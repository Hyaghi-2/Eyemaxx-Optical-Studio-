<div class="tab-pane" id="confirm">
    <div class="row">
        <h4 class="info-text">Your Information</h4>
        <h4 class="info-text">Please enter your email to confirm your appointment</h4>
        <h4 *ngIf="UserNotFound" class="info-text" style="color: red;">This entered email address does not exist in our
            database,
            please create new account</h4>

        <div class="col-sm-4">
        </div>
        <form [formGroup]="emailForm" (ngSubmit)="onEmailFormSubmit($event)">
            <div class="col-sm-4 text-center">
                <div class="input-group">
                    <span class="input-group-addon">
                        <img src="../../../../assets/img/Email.png">

                    </span>
                    <div class="form-group label-floating">
                        <label class="control-label">Email
                            <small>(required)</small></label>
                        <input name="userEmail" type="text" class="form-control" formControlName="userEmail">
                    </div>
                    <div *ngIf="emailFormSubmitted && fe.userEmail?.errors" class="text-center">
                        <mat-error *ngIf="fe.userEmail.errors?.required">Email is required</mat-error>
                        <mat-error *ngIf="fe.userEmail.errors?.email">Invalid E-mail format</mat-error>
                    </div>
                </div>
                <button type="submit" class="btn btn-secondary" style="text-align: center;">submit</button>
            </div>
        </form>
        <div class="col-sm-4">

        </div>
        <!-- <div class="col-sm-6">
            <div class="input-group">
                <span class="input-group-addon">
                    <i class="material-icons">email</i>
                </span>
                <div class="form-group label-floating">
                    <label class="control-label">Email <small>(required)</small></label>
                    <input name="email" type="text" class="form-control">
                </div>
            </div>
        </div> -->
    </div>
    <div class="row">
        <div style="text-align: center;" *ngIf="isLoadingSpinnerEnabled">
            <p-progressSpinner></p-progressSpinner>
        </div>
        <div class="col-sm-6 col-sm-offset-{{UsersList.patientList.length>1?3:4 }}" *ngIf="!isLoadingSpinnerEnabled">
            <div class="col-sm-4" *ngFor="let p of UsersList.patientList" (click)="SelectUser(p)">
                <div id="user_choice" class="choice" data-toggle="wizard-radio" rel="tooltip" title="{{p.firstName}} {{p.lastName}}"
                    [class.active]="SelectedUser.id === p.id">
                    <input type="radio" name="job" value="Design">
                    <div class="icon">
                        <i class="material-icons">person</i>
                    </div>
                    <h6>{{p.firstName}} {{p.lastName}}</h6>
                    <button pButton pRipple type="button" icon="pi pi-user-edit" (click)="ShowPatientFormToEdit()"
                        *ngIf="(SelectedUser.id!='-1')&&(SelectedUser.id === p.id)"
                        class="p-button-rounded p-button-outlined"></button>
                </div>
            </div>

            <div class="col-sm-4" (click)="showPatientFormToAdd()" *ngIf="addNewUserEnabled">
                <div class="choice" data-toggle="wizard-radio" rel="tooltip" title="New User">
                    <input type="radio" name="job" value="Code">
                    <div class="icon">
                        <i class="material-icons">person_add</i>
                    </div>
                    <h6>New Account</h6>
                </div>
            </div>

        </div>

    </div>
    <div class="row" *ngIf="isUserSelectSpinnerEnabled">
        <div class="col-sm-4"></div>
        <div class="col-sm-4" style="text-align: center;">
            <p-progressSpinner [style]="{width: '50px', height: '50px'}" styleClass="custom-spinner" strokeWidth="5"
                fill="#EEEEEE" animationDuration=".5s"></p-progressSpinner>
        </div>
        <div class="col-sm-4"></div>

    </div>
    <!-- <div class="row text-center">
        <button type="button" (click)="ShowPatientFormToEdit()" class="btn btn-secondary"
            *ngIf="SelectedUser.id!='-1'">Edit
            Selected User</button>
    </div> -->


    <div class="row">
        <form [formGroup]="newPatientForm" (ngSubmit)="onNewPatientFormSubmit($event)" *ngIf="newPatientFormEnabled">
            <div class="col-md-12" id="optician-contact-form">
                <!-- col1 -->
                <div class="col-sm-4">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <img src="../../../../assets/img/First Name.png">
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">First Name
                                <small>(required)</small></label>
                            <input name="firstname" type="text" class="form-control" formControlName="firstName"
                                tabindex="1">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.firstName.errors">
                            <mat-error *ngIf="f.firstName.errors?.required">First Name is required</mat-error>
                        </div>
                    </div>

                    <div class="input-group">
                        <span class="input-group-addon">
                            <img src="../../../../assets/img/Province.png">
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Province
                                <small>(required)</small></label>
                            <select name="province" id="province" class="form-control" formControlName="province"
                                tabindex="4">
                                <option value="AB">Alberta</option>
                                <option value="BC">British Columbia</option>
                                <option value="MB">Manitoba</option>
                                <option value="NB">New Brunswick</option>
                                <option value="NL">Newfoundland and Labrador</option>
                                <option value="NS">Nova Scotia</option>
                                <option value="NT">Northwest Territories</option>
                                <option value="NU">Nunavut</option>
                                <option value="ON">Ontario</option>
                                <option value="PE">Prince Edward Island</option>
                                <option value="QC">Quebec</option>
                                <option value="SK">Saskatchewan</option>
                                <option value="YT">Yukon</option>
                            </select>
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.province.errors">
                            <mat-error *ngIf="f.province.errors?.required">Province is required</mat-error>
                        </div>
                    </div>

                    <div class="input-group">
                        <span class="input-group-addon">
                            <img src="../../../../assets/img/Unit Number.png">
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Unit Number
                                <small>(required)</small></label>
                            <input name="unit" type="text" class="form-control" formControlName="unit" tabindex="7">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.unit.errors">
                            <mat-error *ngIf="f.unit.errors?.required">Unit Number is required</mat-error>
                        </div>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="material-icons">date_range</i>
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Date of Birth
                                <small>(required)</small></label>
                            <input name="dateOfBirth" type="date" class="form-control" formControlName="dateOfBirth"
                                tabindex="11">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.dateOfBirth.errors">
                            <mat-error *ngIf="f.dateOfBirth.errors?.required">Date of Birth is required</mat-error>
                        </div>
                    </div>

                </div>

                <!-- col2 -->
                <div class="col-sm-4">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <img src="../../../../assets/img/Last Name.png">
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Last Name
                                <small>(required)</small></label>
                            <input name="lastName" type="text" class="form-control" formControlName="lastName"
                                tabindex="2">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.lastName.errors">
                            <mat-error *ngIf="f.lastName.errors?.required">Last Name is required</mat-error>
                        </div>
                    </div>

                    <!--street num-->
                    <div class="input-group">
                        <span class="input-group-addon">
                            <img src="../../../../assets/img/Street Number.png">
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Street Number
                                <small>(required)</small></label>
                            <input name="streetNumber" type="text" class="form-control" formControlName="streetNumber"
                                tabindex="5">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.streetNumber.errors">
                            <mat-error *ngIf="f.streetNumber.errors?.required">Street Number is required</mat-error>
                        </div>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon">
                            <img src="../../../../assets/img/Postal Code.png">
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Postal Code
                                <small>(required)</small></label>
                            <input name="postalCode" type="text" class="form-control" formControlName="postalCode"
                                tabindex="8">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.postalCode.errors">
                            <mat-error *ngIf="f.postalCode.errors?.required">Postal Code is required</mat-error>
                        </div>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="material-icons">business</i>
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Insurance Company<small>(if applicable)</small></label>
                            <input name="medicalCard" type="text" class="form-control" formControlName="medicalCard"
                                tabindex="12">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.medicalCard.errors">
                            <mat-error *ngIf="f.medicalCard.errors?.required">Insurance Company is required</mat-error>
                        </div>
                    </div>
                </div>

                <!-- col3 -->
                <div class="col-sm-4">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <img src="../../../../assets/img/City.png">
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">City
                                <small>(required)</small></label>
                            <input name="city" type="text" class="form-control" formControlName="city" tabindex="3">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.city.errors">
                            <mat-error *ngIf="f.city.errors?.required">City is required</mat-error>
                        </div>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon">
                            <img src="../../../../assets/img/Street Name.png">
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Street Name
                                <small>(required)</small></label>
                            <input name="streetName" type="text" class="form-control" formControlName="streetName"
                                tabindex="6">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.streetName.errors">
                            <mat-error *ngIf="f.streetName.errors?.required">Street Name is required</mat-error>
                        </div>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon">
                            <img src="../../../../assets/img/Cell Phone.png">
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Cell Phone
                                <small>(required)</small></label>
                            <input name="cell" type="text" class="form-control" formControlName="cell" tabindex="10"
                                placeholder="xxx-xxx-xxxx">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.cell.errors">
                            <mat-error *ngIf="f.cell.errors?.required">Cell Phone is required</mat-error>
                            <mat-error *ngIf="f.cell.errors?.pattern">Cell Phone format should be xxx-xxx-xxxx
                            </mat-error>
                        </div>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="material-icons">business</i>
                        </span>
                        <div class="form-group label-floating">
                            <label class="control-label">Health Card & Expiry<small>(applicable for eye exams
                                    only)</small></label>
                            <input name="medicalCardExp" type="text" class="form-control"
                                formControlName="medicalCardExp" tabindex="13">
                        </div>
                        <div *ngIf="newPatientFormSubmitted && f.medicalCardExp.errors">
                            <mat-error *ngIf="f.medicalCardExp.errors?.required">Health Card & Expiry is required
                            </mat-error>
                        </div>
                    </div>


                </div>

                <div class="col-sm-12">
                    <div>
                        <button type="submit" class="btn btn-primary" style="background: #79a0df;">submit</button>
                        <button type="button" (click)="resetNewPatientFrom()" class="btn btn-secondary">reset</button>
                    </div>
                </div>
            </div>
        </form>

    </div>
</div>
<p-toast></p-toast>